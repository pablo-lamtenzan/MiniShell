
https://github.com/we-sh/42ShellTester

bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "pipes" --hard

PIPES:
- 21sh/pipe/002-chained-pipes (SUCCESS)
- 21sh/pipe/003-many-chained-pipes (SUCCESS)
- 42sh/subshell/mixed/piping/002-pipes-inside-subshells (FAILED)
- 42sh/subshell/mixed/piping/003-imbricated-subshells-and-pipes (FAILED)
[ALL OK]

bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "misc" --hard

MISC
- minishell/misc/001-copy-of-environment (SUCCESS)
- 21sh/misc/001-no-prompt-in-non-interactive-mode (SUCCESS)
- 21sh/misc/002-simple-command-line (SUCCESS)
[ALL OK]

bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "mixed" --hard

MIXED (skip no subject stuff)
- 42sh/builtins/export/mixed/001-export-and-tmp-env-part1 (FAILED) <---------------- Problem
- 42sh/builtins/export/mixed/002-export-and-tmp-env-part2 (FAILED) <----------------- Problem
- 42sh/subshell/mixed/builtins/unsetenv/001-it-does-not-modify-parent-environment (SUCCESS)
- 42sh/subshell/mixed/builtins/setenv/001-it-does-not-modify-parent-environment (SUCCESS)
- 42sh/subshell/mixed/builtins/cd/002-multiline (FAILED) <------- Problem (Not implemente yet)
- 42sh/subshell/mixed/quoting/002-with-double-quotes (SUCCESS)
- 42sh/subshell/mixed/quoting/001-with-simple-quotes (SUCCESS)
- 42sh/subshell/mixed/quoting/003-with-simple-and-double-quotes (SUCCESS)
- 42sh/quoting/mixed/001-simple-and-double-quotes (SUCCESS)
- 42sh/quoting/mixed/variable-expansion/001-it-does-not-expand-in-quotes (SUCCESS)
- 42sh/quoting/mixed/002-multiline (FAILED)
- 42sh/quoting/double-quotes/mixed/variable-expansion/001-expansion-enabled (SUCCESS)
- 42sh/quoting/double-quotes/mixed/escaping/002-escape-double-quote-2 (SUCCESS)
- 42sh/quoting/double-quotes/mixed/escaping/005-it-does-not-escape-double-quote (FAILED) <----------- Problem
- 42sh/quoting/double-quotes/mixed/escaping/001-escape-double-quote-1 (FAILED) <---------- Problem
- 42sh/quoting/double-quotes/mixed/escaping/004-it-results-in-error (FAILED) <----------- Problem
- 42sh/quoting/double-quotes/mixed/escaping/003-escape-double-quote-3 (FAILED) <-------- Problem
- 42sh/quoting/simple-quotes/mixed/variable-expansion/001-expansion-disabled (SUCCESS)
- 42sh/quoting/simple-quotes/mixed/escaping/001-escape-simple-quote-1 (FAILED) <------------ Problem
- 42sh/quoting/simple-quotes/mixed/escaping/005-it-does-not-escape-simple-quote-2 (FAILED) <---------- Problem
- 42sh/quoting/simple-quotes/mixed/escaping/002-escape-simple-quote-2 (FAILED) <----- Problem
- 42sh/quoting/simple-quotes/mixed/escaping/004-it-does-not-escape-simple-quote-1 (SUCCESS)
- 42sh/quoting/simple-quotes/mixed/escaping/003-escape-simple-quote-3 (SUCCESS)
- 42sh/escaping/mixed/variable-expansion/001-escape-variable-1 (FAILED) <----- Problem
- 42sh/escaping/mixed/variable-expansion/002-it-does-not-escape-variable (FAILED) <---- Problem
- 42sh/escaping/mixed/variable-expansion/003-escape-variable-2 (FAILED) <------ Problem
- 42sh/local-variable/mixed/tilde-expansion/001-process-tilde-expansion (SUCCESS)
- 42sh/local-variable/mixed/redirections/003-reading (SUCCESS)
- 42sh/local-variable/mixed/redirections/001-truncating (SUCCESS)
- 42sh/local-variable/mixed/redirections/002-appending (SUCCESS)
- 42sh/local-variable/mixed/inline-environment-variable/001-local-variable-shouldnt-be-set (FAILED) <--- Problem (not developped)
- bonuses/separators/mixed/004-or-and (FAILED) <------ Problem
- bonuses/separators/mixed/006-or-and (FAILED) <------ Problem
- bonuses/separators/mixed/003-and-or (SUCCESS)
- bonuses/separators/mixed/001-and-or (FAILED) <------ Problem
- bonuses/separators/mixed/005-or-and (FAILED) <------ Problem
- separators/mixed/002-and-or(SUCCESS)
- 21sh/pipe/mixed/001-exit-or-not-exit (FAILED) <------------ Problem (exit in pipes does not terminate minish)
- 21sh/pipe/mixed/002-cd-or-not-cd (FAILED) <-------- Problem (cd in pipe does not change the dirrectory)

PROBLEMS:

	BUILTINS:
	- Export does not work correctly with unset builtin
	- Exit builtin in a piped command should not exit minish
	- Cd builtin in a piped command should not change dirrectory

	SEPARATORS:
	- exit(42) || cmd that ret 21 && something: error: does not return 21
	- exit(0) || ret 21 && write in out: error: out is empty
	- exit(42) && ret 21 || write in out:  error: out is empty
	- exit 42 || write in out ret 0 && write in err 21: error: ret should be 21

	MULTILINE
	- not implemented yet

	ESCAPE:
	- Interaction with scape character and dquotes and squotes

bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "redirections" --hard

REDIRECTIONS

- 42sh/local-variable/mixed/redirections/003-reading (SUCCESS)
- 42sh/local-variable/mixed/redirections/001-truncating (SUCCESS)
- 42sh/local-variable/mixed/redirections/002-appending (SUCCESS)
- 21sh/redirections/outputs/appending/002-append-stdout-to-file (FAILED) <----- Problem (cuase stderr is not redirectable)
- 21sh/redirections/outputs/appending/multiple/001-append-twice-separately (SUCCESS)
- 21sh/redirections/outputs/appending/003-append-stderr-to-file (FAILED) <---- Problem (cause stderr is not redirectable)
- 21sh/redirections/outputs/appending/001-append-default-to-file (SUCCESS)
- 21sh/redirections/outputs/closing/004-close-twice-outputs (SUCCESS)
- 21sh/redirections/outputs/closing/003-close-stderr (FAILED) <----- Problem (cuase stderr is not handled)
- 21sh/redirections/outputs/closing/002-close-stdout (FAILED) <----- Problem (cause stderr is not hanlded)
- I gonna avoid the stderr issues starting from now...
- 21sh/redirections/outputs/truncating/stdout/001-with-explicit-fd (SUCCESS)
- 21sh/redirections/outputs/truncating/multiple/003-together-stderr-first (SUCCESS)
- 21sh/redirections/outputs/truncating/multiple/002-together-stdout-first (SUCCESS)
- 21sh/redirections/outputs/truncating/multiple/002-together-stdout-first (SUCCESS)
- 21sh/redirections/outputs/truncating/multiple/005-together-with-whitespaces (SUCCESS)
- 21sh/redirections/outputs/truncating/001-creates-file-if-not-exits (SUCCESS)
- 21sh/redirections/outputs/truncating/002-truncates-file-if-exists (SUCCESS)
- 21sh/redirections/outputs/truncating/003-whitespace-before-filename (SUCCESS)
- 21sh/redirections/outputs/truncating/003-whitespace-before-filename (SUCCESS)
- 21sh/redirections/inputs/003-filename-with-whitespaces (SUCCESS)
- 21sh/redirections/inputs/005-no-such-file (FAILED) <----- Problem
- 21sh/redirections/inputs/004-absolute-path (SUCCESS)
- 21sh/redirections/inputs/002-filename (SUCCESS)

PROBLEMS:
- cmd < filename must return a non zero integer if the filename is invalid


bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "separators" --hard

SEPARATORS:

- bonuses/separators/mixed/004-or-and (FAILED) <--- Problem
- bonuses/separators/mixed/006-or-and (FAILED) <---- Problem
- bonuses/separators/mixed/003-and-or (SUCCESS)
- bonuses/separators/mixed/001-and-or (FAILED) <---- Problem
- bonuses/separators/mixed/005-or-and (FAILED) <---- Problem
- bonuses/separators/mixed/002-and-or (SUCCESS)
- bonuses/separators/and/001-run-twice (SUCCESS)
- bonuses/separators/and/003-run-until-failing (FAILED) <----- Problem
- bonuses/separators/and/errors/001-parse-error-at-beginning (WARNING) <----- Take care!
- bonuses/separators/or/errors/002-parse-error-too-much-symbol (WARNING) <------ Take care!
- bonuses/separators/or/errors/001-parse-error-at-beginning (WARNING) <------ Take care
- bonuses/separators/or/003-run-until-succeeding (SUCCESS)
- bonuses/separators/or/001-run-first-only (SUCCESS)
- bonuses/separators/or/002-run-second-only (SUCCESS)
- 21sh/separators/semicolon/004-parse-error-empty-command (SUCCESS)
- 21sh/separators/semicolon/001-two-commands-sequentially (SUCCESS)
- 21sh/separators/semicolon/003-parse-error-empty-inline-command (FAILED) <----- Problem
- 21sh/separators/semicolon/002-n-commands-sequentially (SUCCESS)

PROBLEMS:
- exit 42 || write err 21 && write out 0: error: expected exi st 21
- exit 0 || write err 21 && write out 0: error: expected output in out
- exit 42 && write err 21 || write out 0: error: expected output in out
- exit 42 || write out 0 && write err 21: error: expected exit st 21
- exit 0 && exit 0 && exit 0 && write on out 0 && exit 42 && write out error: should return 42
- [WARNING] && write out should ret no zero
- [WARNING] write out ||| write out should ret no zero
- [WARNING] || write out should ret no zero
- ; ; exit 42: error: must exit no 42 and no zero

bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "local-variable" --hard

LOCAL VARIBALE

- 42sh/local-variable/mixed/tilde-expansion/001-process-tilde-expansion (SUCCESS)
- 42sh/local-variable/mixed/redirections/003-reading (SUCCESS)
- 42sh/local-variable/mixed/redirections/003-reading (SUCCESS)
- 42sh/local-variable/mixed/redirections/002-appending (SUCCESS)
- 42sh/local-variable/mixed/inline-environment-variable/001-local-variable-shouldnt-be-set (FAILED) <----- Problem
- 42sh/local-variable/006-existing-variable-in-environment-3 (SUCCESS)
- 42sh/local-variable/001-declare-and-expand-1 (SUCCESS)
- 42sh/local-variable/009-last-exit-status (SUCCESS)
- 42sh/local-variable/008-multiple-declaration-with-same-name (SUCCESS)
- 42sh/local-variable/004-existing-variable-in-environment-1 (FAILED) <------ Problem
- 42sh/local-variable/005-existing-variable-in-environment-2 (FAILED) <------ Problem
- 42sh/local-variable/003-unknown-variable-does-not-result-in-new-argument (FAILED) <------ Problem
- 42sh/local-variable/007-multiple-declaration-at-a-time (SUCCESS)
- 42sh/local-variable/002-declare-and-expand-2 (FAILED) <------- Problem


PROBLEMS:
- Just declare a var and check the env ? Don't undersand
- export var=old ; export var=new ; env error: stdout does not match
- export var=value ; export var= ; env error: stdout does not match
- unset "var" ; write in out $var $another: error: var is displayed in out
- var= ; write in out $var: error stdout


bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "tilde-expansion" --hard

TILDE EXPANSION (i will not analyse the errors for this part)

- 42sh/local-variable/mixed/tilde-expansion/001-process-tilde-expansion (SUCCESS) 
- bonuses/tilde-expansion/not-expanded/004-not-expanded-with-OLDPWD (FAILED)
- bonuses/tilde-expansion/not-expanded/002-not-expanded-with-HOME-2 (FAILED)
- bonuses/tilde-expansion/not-expanded/001-not-expanded-with-HOME-1 (FAILED)
- bonuses/tilde-expansion/not-expanded/003-not-expanded-with-PWD (FAILED)
- bonuses/tilde-expansion/002-expanded-with-HOME-2 (SUCCESS)
- bonuses/tilde-expansion/001-expanded-with-HOME-1 (SUCCESS)
- bonuses/tilde-expansion/004-expanded-with-PWD-2 (SUCCESS)
- bonuses/tilde-expansion/005-expanded-with-OLDPWD-1 (FAILED)
- bonuses/tilde-expansion/003-expanded-with-PWD-1 (SUCCESS)
- bonuses/tilde-expansion/006-expanded-with-OLDPWD-2 (FAILED)

---------------------------------------------

MINISHELL TESTS:

- bash ~/42ShellTester/42ShellTester.sh ./minishell --show-success --reference "bash" --filter "minishell" --hard

ONLY THE LISTED ARE ISSUES HERE

bash ~/42ShellTester/42ShellTester.sh ./minishell --reference "bash" --filter "minishell/binary" --hard

BINARY:

- minishell/binary/004-binary-test-empty-path (FAILED)
- minishell/binary/006-binary-undefined-path (FAILED)
- minishell/binary/005-binary-test-wrong-path (FAILED)
- minishell/binary/008-binary-too-many-symbolic-links-encountered (FAILED)
- minishell/binary/007-binary-permission-denied (FAILED)

PROBLEMS:

- export PATH="" ; ./write_out error: no output: minishell must find the executables when they are located in the same dir when the apth in empty
- touch file ; unset PATH ; ls: error: ls should not work
- export PATH="/" ; ls error: must exit no zero and ls should no work
- ln -s a b ; ln -s b c ; ln -s c a error: must display error on inf loop simbolic links
- touch a ; chmod 0 a ; ./a must print correctly amd should return a non-zero value


Cd (ignore ln)

- minishell/builtins/cd/008-symbolic-link-2 (FAILED)
- minishell/builtins/cd/errors/006-too-many-symbolic-links-encountered-2 (FAILED)
- minishell/builtins/cd/errors/001-not-a-directory (WARNING)
- minishell/builtins/cd/errors/005-too-many-symbolic-links-encountered (WARNING)
- minishell/builtins/cd/errors/003-permission-denied (WARNING)
- minishell/builtins/cd/errors/004-permission-denied-2 (FAILED)
- minishell/builtins/cd/errors/008-no-such-file-or-directory-2 (FAILED)
- minishell/builtins/cd/errors/002-not-a-directory-2 (FAILED)
- minishell/builtins/cd/errors/010-no-such-file-or-directory-symlink-2 (FAILED)
- minishell/builtins/cd/006-root-path-2 (FAILED)
- minishell/builtins/cd/009-following-links (FAILED)
- minishell/builtins/cd/010-update-OLDPWD (FAILED)
- minishell/builtins/cd/options/002-oldpwd (FAILED)

PROBLEMS:

- mkdir -p dir ; ln -s dir file ; ln -s file file2 ; cd file2 error: symbolix links doesn't handle by cd
- ln -s file1 file2 ; ln -s file2 file 3 ; ln -s file3 file1 ; cd
- [WARNING] touch a ; cd a error: must display correctly the error
- [WARNING] ln -s file1 file2 ; ln -s file2 file 3 ; ln -s file3 file1 ; cd must display the error properlly
- [WARNING] mkdir -m 0 no_permissions ; cd no_permissions must display the error properlly
- mkdir -m 0 no_permissions ; cd: error: must return no zero
- rm -rf dir ; cd dir error: must return non zero
- touch file ; cd: error: must return no zero
- ln a a ; cd a : error must return non 0 value
- cd ./ doesn't move to the root
- mkdir -p dir ; ln -s dir dir ; cd dir must move to the linked directory
- mkdir -p dir/dubdir ; ln -s dir dirlink ; ln -s dir dir/subdir ; cd error: PWD variable is invalid
- mkdir -p dir/dir ; cd dir ; cd dir: error: the variable OLDPWD has a wrong value
- cd / ; cd - error: doens't go back (have to handle options?)
- I FCK HERE MUST IGNORE LN ISSUES (i loose my time but is a great new :))

ENV

[ALL OK]

EXIT 

[ALL OK]


***** SECOND ROUND ***** 07/12/20

Many chaned pipes seems have a Problem

Some errors on redirections but our minishell seem clean while i execute similars TESTS

Same confusing shit as before with the separators

EXPORT:
- return value: "export 42=something" same for "export .=something"
- tester said export var= (but i dont know for his one)
- Another: The purpose of this test is to check that exporting an existing variable results in an updated variable.
There are more ...

LOCAL VARIABLES has some issues ...

check quoting too


